## Доступность роутов

У нас имеются три типа пользователей:

- админы - доступны все роуты
- юзер - доступны все роуты, кроме роутов модификации данных
- неавторизованный пользователь - доступны все роуты, кроме роутов модификации данных и загрузки книг

---

## Модули

### Пользователи

- POST `/auth/register` - регистрация пользователя, принимает следующие данные `{ email, name, password, birthDate, role }`, все поля обязательные
- POST `/auth/login` - аутентификация пользователя, приниает в теле запроса `{ email, password }`
- GET `/authors/` - отображает список зарегистрированных пользователей (авторов)
- PATCH `/authors/:authoId` - редактирует пользователя с указанным айди и принимает следующие данные `{ name, password, birthDate }`

### Жанры

- POST `/genres` - создание жанра книги, принимает следующее тело `{ name }`
- GET `/genres` - отображает список всех жанров
- DELETE `/genres/:genreId` - удаляет жанр по айди

### Книги

- POST `/books` - создание книги, принимает следующее тело `{ name, redaction, publishedDate, authorsIds?, genres? }`, (`authorsIds` - массив айдишников пользователей (авторов) данной книги, `genres` - массив названий жанров, если какой-то жанр отсутствует, то он создается автоматически)
- GET `/books` - отображение всех книг вместе с их авторами и файлами книг
- POST `/books/:bookId/resources/upload` - добавление ресурса (файл) к книге по ее айди (книги и файлы книг создаются по отдельности - это сделано для удобства манипуляции с файлами), и принимает тело `{ file: resourceFile }` типа`multipart/form-data`
- GET `/books/:bookId/resources/:resourceId/download` - скачивание файла у книги по айдишникам в роуте
- GET `/books/genres/:genreId` - отображает книги, у которых имеются жанр, указанный в роуте
- GET `/books/:bookId/resources` - отображает все файлы книги, указанной в роуте
- PATCH `/books/:bookId` - редактирует книгу по айди, принимает тело тоже, что и при создании книги `{ name?, redaction?, publishedDate?, authorsIds?, genres? }`
- DELETE `/books/:bookId` - удаление книги по айди
- DELETE `/books/:bookId/resources/:resourceId` - удаление определенного файла у определенной книги
